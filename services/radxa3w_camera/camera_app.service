# File: /etc/systemd/system/camera_app.service
# Flask camera app service for radxa3w
[Unit]
Description=Gunicorn Flask Camera Application
After=network.target dev-video0.device

[Service]
ExecStartPre=/bin/sleep 5
User=radxa
WorkingDirectory=/home/radxa/radxa3w_camera
Environment="PATH=/home/radxa/radxa3w_camera/venv/bin"
ExecStart=/home/radxa/radxa3w_camera/venv/bin/gunicorn -b 0.0.0.0:5000 app:app --threads 2
Restart=always
RestartSec=5
Environment=PYTHONUNBUFFERED=1

[Install]
WantedBy=multi-user.target